---
title: "我把策略年化从 5% 拉回 33%，只改了一个参数"
description: "通过对比三个 ETF 策略的每日调仓 vs 每周调仓回测数据，揭示调仓频率对量化策略收益和夏普率的深层影响。"
date: "2026-02-28"
tags: ["量化投资", "ETF", "调仓频率", "动量策略", "夏普率", "回测"]
---

# 我把策略年化从 5% 拉回 33%，只改了一个参数

> 回测区间：2024-01-01 → 2026-02-27
> 数据来源：自研量化框架 TradeLab，基于 AkShare 实盘行情

---

## 前言

最近我在用自己开发的量化框架 TradeLab 跑了一组对比实验。

三个策略，两种调仓频率——每日调仓和每周调仓。结果让我相当意外：**某个策略把每日调仓改成每周后，年化收益从 5% 直接跳回了 33%。**

不是改了模型，不是换了标的池，只改了一行参数。

这篇文章就来聊聊这件事。

---

## 一、三个策略是什么？

先简单介绍一下参与对比的三个策略。

### 1. etf_mix_rebalance｜固定权重再平衡

**核心逻辑：** 选定四只 ETF（红利、纳指、黄金、科技），按固定比例 2:1:1:1 配置，定期恢复到目标仓位。

**选手名单：**

| ETF | 代码 | 权重 |
|-----|------|------|
| 红利 ETF | sh510880 | 40% |
| 纳指 ETF | sh513100 | 20% |
| 黄金 ETF | sh518880 | 20% |
| 科技 ETF | sh515580 | 20% |

**策略哲学：** 来自哈里·布朗"永久组合"的改良版思路——不预测市场，不择时，只靠资产间的低相关性赚取分散化收益。
当某类资产涨多了，自动卖出；另一类跌多了，自动买入。时间越长，"低买高卖"效果越好。

---

### 2. etf_mix_momentum｜动量轮动

**核心逻辑：** 同样是这四只 ETF，但不再均衡配置，而是每期计算过去 20 个交易日的动量（涨幅），选出排名前 2 的重仓，各持 50%。

**策略哲学：** 追趋势，不强求分散。动量效应是金融学里最经久不衰的异象之一——近期强的资产，短期内往往还会继续强。
但动量有个天然缺陷：**信号需要时间积累**，如果调仓太频繁，你追的可能不是趋势，而是噪声。

---

### 3. three_factor｜三因子综合打分

**核心逻辑：** 对一个更大的 ETF 池（13 只，包含芯片、纳指、标普、红利、黄金等）进行多因子评分，选出综合得分前 2 的 ETF，按 57% / 38% 的比例持仓。

三个因子分别是：
- **动量因子**（近期收益）
- **波动率因子**（越低越好，代表稳定性）
- **相关性因子**（与组合整体的相关性，越低越好）

**策略哲学：** 比纯动量更稳健，加入了对风险的考量。不只看谁涨得好，还要看谁涨得稳、跟其他持仓不相关。
这个因子体系本质上是在做"**夏普率最优化**"的近似求解。

---

## 二、回测数据说话

三个维度分开看，更直观。

**① 年化收益率对比**

| 策略 | 每周年化 | 每日年化 | 差值（日−周） |
|:--|--:|--:|--:|
| etf_mix_rebalance | 24.03% | 23.53% | −0.50% |
| etf_mix_momentum | **35.45%** | 28.45% | **−7.00%** |
| three_factor | **33.36%** | 5.43% | **−27.93%** |

**② 最大回撤对比**

| 策略 | 每周回撤 | 每日回撤 | 差值（日−周） |
|:--|--:|--:|--:|
| etf_mix_rebalance | −8.99% | −9.20% | −0.22% |
| etf_mix_momentum | −15.67% | −13.18% | +2.48% |
| three_factor | −20.98% | −33.63% | **−12.65%** |

**③ 夏普率对比（风险调整后收益）**

| 策略 | 每周夏普 | 每日夏普 | 差值（日−周） |
|:--|--:|--:|--:|
| etf_mix_rebalance | 1.732 | 1.707 | −0.025 |
| etf_mix_momentum | **1.871** | 1.463 | **−0.408** |
| three_factor | **1.168** | 0.332 | **−0.837** |


> 差值 = 日度 − 周度，**负数表示每周调仓更优**

结论一目了然：

- **再平衡策略**：三项指标均无感，调仓频率几乎不影响结果
- **动量策略**：每周年化多 **7%**，夏普高出 **0.408**，风险调整后回报明显占优
- **三因子策略**：差距触目惊心——年化从 5% 到 33%，夏普率从 **0.332 跌至 1.168**，相差整整 **0.837**

---

## 三、为什么每周调仓反而更好？

这是这篇文章最核心的问题。

很多人直觉上会觉得：**调仓越频繁，越能抓住机会**。但实验告诉我们，对于这两类策略，事实完全相反。

背后有五个核心原因：

---

### 原因一：信号需要"发酵时间"

动量因子和三因子的评分，计算的都是**历史一段时间内**的趋势特征。

当你用 20 日动量来选标的，你相当于在问："这只 ETF 在过去 4 周的表现如何？"

但如果你**每天都重新问这个问题**，今天选到了 A，明天因为某天的微小波动就换成了 B，后天又换回 A——你实际上在追的，是**价格的随机抖动**，而不是趋势本身。

**每周调仓**意味着你给信号至少 5 个交易日的时间去"稳定"，过滤掉日内噪声，只响应真实的趋势变化。

这就是为什么 `three_factor` 每日调仓的年化只有 5.43%——它每天都在高频换仓，把自己的收益磨光了。

---

### 原因二：交易成本是看不见的"黑洞"

每次买卖都有成本：

- **佣金**：双边各 0.03%（万三）
- **印花税**：卖出 0.1%
- **滑点**：实际成交价与理论价的偏差

一次换仓的成本看起来很小，但**乘以换仓次数**就不一样了。

以 `three_factor` 为例：
- 每日调仓：全年约 **490 次**交易日，几乎每天都在换仓，累计摩擦成本可能高达 **5-10%**
- 每周调仓：约 **100 次**左右，摩擦成本大幅压缩

这还没算更隐性的：**每次换仓都在产生税务事件**，更频繁的换仓意味着更多的印花税消耗。

---

### 原因三：动量因子的"反转效应"陷阱

短期价格动量（1-5 天）有一个著名的反效应：**短期反转**。

学术研究（Jegadeesh & Titman 1993）发现，**月度以上的动量是有效的**，但**日内到周度的动量往往会反转**——今天涨太多的，明天有可能跌回来。

所以如果你每天跑动量排名，今天刚买入的"强势 ETF"，很可能是因为当天涨幅过高而排名靠前，而这种涨幅次日容易被修正。

**每周调仓**则天然规避了这个短期反转陷阱，只捕捉更稳定的中期动量趋势。

---

### 原因四：过拟合与信号过载

三因子策略每日重新评分，意味着因子权重每天都在细微调整。这会产生一种"**过度响应**"的问题：

系统对每一天的数据都极其敏感，一旦遇到异常交易日（比如节前缩量、突发利空），因子分数会剧烈波动，触发大量无效换仓。

每周调仓相当于做了一次**低通滤波**——只保留频率较低的信号（中期趋势），过滤掉高频噪声（日间波动）。

---

### 原因五：夏普率才是真正的裁判

很多人只盯着年化收益率，但有一个更重要的指标——**夏普率**（Sharpe Ratio）。

**夏普率 = 超额收益 ÷ 收益波动率**，衡量的是"每承担一份风险，能赚到多少回报"。

来看这组极端数据：

| | 每日调仓 | 每周调仓 | 差距 |
|--|--:|--:|--:|
| three_factor 夏普率 | 0.332 | **1.168** | +0.836 |
| etf_mix_momentum 夏普率 | 1.463 | **1.871** | +0.408 |

夏普率 **0.332** 意味着：你每冒 1 单位的风险，只换来了 0.33 单位的回报——这是一笔极差的买卖。

夏普率 **1.168** 则意味着：同样的风险，换来了超过 1 单位的回报——已进入不错的量化策略区间。

为什么频率太高会让夏普率崩塌？两端同时在恶化：

- **分子（收益）在下降**：高频换仓把趋势信号淹没在噪声里，赚到的超额 Alpha 越来越少
- **分母（波动率）在上升**：每次无效换仓都引入额外的净值抖动，组合日收益率更加颠簸

两头夹击，夏普率自然断崖式下跌。

反过来说，**优化调仓频率，本质上是在做夏普率最大化**——减少无效换仓，让真实信号充分表达。

`etf_mix_momentum` 每周调仓的夏普率达到 **1.871**，在 A 股量化策略里已属相当优秀的水平。而同一个策略每日调仓只有 **1.463**，仅因为频率太高，就白白损失了 **0.408** 的夏普率。

**结论：评价调仓频率优化的效果，不要只看收益，一定要同时看夏普率。** 收益高但夏普低，说明你在用更大的风险换回报，并不是真正意义上的优化。

---

## 四、为什么再平衡策略不受影响？

注意到 `etf_mix_rebalance` 每日和每周的差距只有 **0.5%**，几乎没有区别。

这正好验证了上面的逻辑：再平衡策略**没有信号预测成分**。

它不需要"等趋势形成"，它做的只是一件机械的事：**谁涨多了就卖，谁跌多了就买，保持比例不变。**

这个逻辑在日度和周度都同样有效，区别只是每次平衡的幅度大小。事实上，频率稍微低一点还能省些手续费。

---

## 五、这对实盘有什么启示？

**1. 择时类策略，周度调仓是个好起点**

如果你的策略涉及动量、因子评分、轮动选股，建议默认从**周度**开始测试，而非日度。

**2. 再平衡类策略，频率影响不大，但也别太高**

月度再平衡通常已经足够，日度再平衡在手续费上有额外消耗，收益上却没有对应回报。

**3. 交易成本永远要纳入回测**

不含交易成本的回测是"纸上富贵"。真实的佣金+印花税+滑点，对高频策略的侵蚀相当可观。

**4. 调仓频率本身就是一个需要优化的超参数**

频率不是"越高越好"，也不是"越低越稳"——它取决于策略本身的信号周期。信号周期是 20 天，就别用 1 天的频率去驱动它。

---

## 尾声

这次实验让我对"**过度优化**"有了更深的感触。

很多时候我们总想让策略"更聪明"——更频繁地响应市场、更快地切换仓位。但市场的噪声远比信号多，响应得越快，踩的坑越多。

少即是多。

周度调仓，让信号有时间说话。

---

*本文策略仅用于量化研究记录，不构成任何投资建议。*
*数据来源：TradeLab 自研框架，行情数据：AkShare，回测区间：2024-01-01 至 2026-02-27。*
